---
import { dateToLocale } from "../utils/date";
const { posts } = Astro.props;

const sortedAscByDatePosts = posts.sort((a, b) => {
  return new Date(b.data.publishDate) - new Date(a.data.publishDate);
});
---

<ul class="grid grid-cols-3 auto-rows-fr">
  {
    sortedAscByDatePosts.map((post) => {
      return (
        <a
          href={`/blog/${post.slug}`}
          class="ml-[-1px] mt-[-1px] flex flex-col border p-8 transition duration-300 ease-in-out hover:relative hover:border-gray-300 hover:bg-white"
        >
          <div class="mb-2 text-[16px]">
            {dateToLocale(post.data.publishDate)}
          </div>
          <h3 class="mb-4 text-medium text-gray-900">{post.data.title}</h3>
          <p class="flex-1">{post.data.openGraph.description}</p>
          <div class="mt-6 flex space-x-2 text-[16px]">
            {post.data.tags.map((tag) => (
              <div class="">#{tag}</div>
            ))}
          </div>
        </a>
      );
    })
  }
</ul>
