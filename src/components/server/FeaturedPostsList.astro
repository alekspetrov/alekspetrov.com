---
import PostList from "./PostList.astro";

const articles = await Astro.glob("../../pages/articles/*.{md,mdx}");

const featuredPosts = articles
  .filter((post) => post.frontmatter.featured && !post.frontmatter.draft)
  .sort(
    (a, b) =>
      new Date(b.frontmatter.pubDate).valueOf() -
      new Date(a.frontmatter.pubDate).valueOf()
  )
  .slice(0, 5);
---

<div class="overflow-y-scroll h-full p-8">
  <div class="mb-8 text-dark-text-active">Writing</div>
  <PostList posts={featuredPosts} />
  <a href="/articles" class="mt-8 block link"> Read more...</a>
</div>
